---
title: "计算机系统简要概述"
output: pdf_document
---
## 操作系统简单介绍

*接下来几篇博客都是关于操作系统（Operating System）的。写作这个主题是因为学习并发编程时，自己的底层基础知识不够扎实，因此在三月份购买了清华大学出版社出版的这本《操作系统原理》教材，自己重新学习一遍操作系统原理知识。其实这是本科时的一门课程，不过由于当时水过了，很多知识并没有记到脑子里，所以三四月份对这门学科重新进行了一次自学。学完的收获还是很大的，当然并没有非常直接的收获，比如编码能力的提升，但当分析一些性能问题，学习一些框架，看一些技术时，脑子里确实更清晰了，能知道技术的一些底层原理，而不是去查yy概念是什么意思，xx技术是怎么实现的。讲到这里，脸上两行泪，都怪自己没认真学。*

*操作系统这个东西对于我们来说，包括大部分人来说都是每天接触的，PC领域的王者——windows，服务器领域——Linux，移动终端比如Android，IOS，WindowsPhone，都是操作系统的实体。我们开发的应用，我们部署的服务，都将运行在操作系统之上，因此我们开发者必须对操作系统有必要的认识，不说手撸进程调度算法，起码对操作系统的结构，任务调度，操作系统的内存管理都要有一定的认识，这样才能走的更远。*

### 1.计算机硬件结构
1. 裸机的基本组成：处理器，存储器（主存，RAM），IO设备，总线（Bus）
+ 处理器：运算器（ALU），控制器（CU）和寄存器组成
+ 存储器：处理器直接获取数据的地方，IO设备和CPU传输数据时有时候也需要通过主存
+ IO设备：IO控制器，外部设备，辅助存储器（如硬盘）等
+ 总线：处理器，存储器和IO设备之间通信的“道路”，总线的带宽直接决定了这些模块之间数据传输的速度，因为各种信号都要经过总线，所以总线的速度须和CPU匹配。总线分为控制总线、数据总线、地址总线

### 2. 操作系统的定义：
***介于用户和裸机之间的一个系统软件，有效控制和管理计算机硬件资源和软件资源，并为用户提供可视化的界面，使用户可以更好更方便地管理硬件资源***

### 3. 操作系统的发展和分类
##### 发展：
+ 手工操作（此时操作系统的概念还未产生）
+ 早起批处理
+ 多道批处理
+ 分时系统
+ 网络操作系统和分布式操作系统
+ 实时系统

以上我们较为熟悉的是分时系统，因为我们都知道现在我们的计算机都需要运行很多的应用，包括系统的服务，我们既需要同时运行应用，又需要良好的应用反馈速度，所以分时系统是最适合这个场景的，系统将CPU事件分割成一个个小段，每人（进程/线程）每次取一个使用，用完了就自己退出，这样对大部分场景来说，都具有良好的性能和及时的反馈。当然在一些需要快速响应和稳定性的场景，比如机票预订系统，必须快速的给与响应，这种场景分时系统就不太合适了，所以需要特定的操作系统来支持。

##### 分类
1. 批处理操作系统
2. 分时操作系统
3. 个人计算机
4. 网络操作系统
5. 分布式操作系统
6. 集群式操作系统
7. 多处理器操作系统
8. 实时操作系统
9. 嵌入式操作系统

### 4.操作系统的结构
+ 1.简单模块组合结构
早期的一些中小型操作系统，比如MS-DOS就属于这种类型，系统结构按照功能划分为不同的模块，就像我们写应用，把一些可重用的包装成方法然后调用，这样完成一个比较重的操作，可以通过调用不同的模块来完成目标操作。但这样缺点很明显，对于操作系统来说，扩展和升级十分困难，而且由于层层调用，操作系统的效率会大打折扣。
+ 2.层次结构
简单模块组合结构的一大缺点是效率低，随着计算机的发展，效率变得越来越重要。因此，层次结构是吸取了简单模块组合结构的有点之后，设计出的一种结构，这种结构具有良好的模块之间的独立性和清晰的模块之间的依赖和调用关系。层次结构将系统看成一系列的层，更高层次的功能是建立在较低层次的功能之上的，这样避免了很多重复嵌套调用带来的效率低下，不同模块之间的联系也减弱了，扩展性也提升了。
+ 3.微内核结构
微内核结构是现在很多操作系统中都有采用的一种设计方法。设计者将操作系统分为运行在内核态的内核层和运行在用户态的进程层。内核提供了很多底层/重要的操作，比如线程调度，中断，消息传递以及一系列的内核的原语操作。用户态的进程要想完成一个包含了以上操作的任务，就必须通过内核来完成，用户进程通过发送消息给内核，内核完成相关操作之后再将结果通过消息的方式发送给用户进程。微内核结构将内核和用户进程分开，一般这种结构的操作系统都会为开发者提供一系列的API，为操作系统添加功能十分方便。但缺点也很明显，用户进程如果需要一些敏感操作，必须通过内核才能完成，效率较低。

### 5.UNIX，Linux和Windows
*作为一名开发人员，以上三种操作系统或多或少都听说过，使用过。那么他们之间有什么联系，有什么区别呢？*
#### UNIX
UNIX的诞生和发展很漫长，也很快速，它诞生于1970的贝尔实验室（这个实验室真的牛逼），并且衍生出了很多不同版本的操作系统，如当时的BSD系列，System V等。由于衍生了很多版本，为了让软件能够在所有的UNIX操作系统上运行，IEEE制定了一个标准——POSIX（Portable Operating System Interface of UNIX），该标准定义了一组最小的系统调用接口，所有兼容的UNIX版本必须支持这组函数接口。如今Linux和Windows也都支持POSIX。
+ UNIX操作系统的结构
认识一个操作系统，了解其结构是有必要的。UNIX主要由UNIX内核，系统调用接口和UNIX命令和库组成，系统调用分割了内核和用户，用户可以通过调用操作系统服务或者库函数来调用底层服务。

#### Linux
Linux是一种基于PC的多用户、多任务操作系统，最初是由Linus Torvalds写的，Linus在1991年公布了第一个Linux版本之后，全世界的计算机爱好者都为Linux贡献了源代码，使得Linux成为了现在非常流行的操作系统。Linux是自由和免费的，它的源码都是向所有人公开的，任何人都可以获取源代码，并且修改。
+ Linux的结构
Linux主要采用分层结构，也有微内核的一些思想在里面。最底层的是内核，中间通过系统调用为用户提供接口

#### Windows
Windows可以说是几乎每一个人都有接触过的了，从早期的win95，win2000，XP，win7，到win8以及现在的win10，我们可以说是近距离见证了这个操作系统的每一步。
一开始微软主要开发的是MS-DOS，为IBM个人计算机开发，界面还是命令行。随着Xerox公司推出的第一个商用的GUI操作系统之后，微软也制定了“界面管理者”的计划，随后在1985年，Windows1.0版本问世，之后Windows快速地发展，微软也提出了Windows NT这一新系统，为现在的Windows提供了内核。Windows早期主要面向个人使用，但现在在服务器领域，windows也占有一席之地。
+ Windows的结构
Windows融合了分层和微内核的特点，将进程分为用户态和内核态，内核态提供了一系列服务调度进程，用户态的应用程序、服务进程等都通过服务调度进程来调用底层接口，并且，Windows还提供了HAL（Hardware Abstract Layer），使得Windows可以运行在大部分计算机之上
