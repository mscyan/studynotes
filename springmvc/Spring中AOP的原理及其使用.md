---
title: 'Spring中AOP的原理及其使用'
output: document_pdf
---

## Spring中AOP的原理及其使用
*AOP和IOC是Spring框架的两大特性，不论是平时编码，还是面试，都是出现频率很高的东西。这篇博客主要针对AOP进行了解。（Aspect Oriented Programming）*

我们注意到，AOP中的第一个单词，Aspect是*方面，层面*的意思，AOP即面向切面编程，AOP将系统功能分为核心功能和周边功能，周边功能一般包括日志，功能的执行耗时，统一异常处理，事务管理等，比如拦截器和Spring中事务的注解都是基于AOP而扩展的。

在Spring AOP中，不同的模块和角度具有不同的抽象命名，比如切点，切面等：
+ 切点：需要**添加**功能的地点，比方在所有方法的MethodP()处添加功能
+ 通知：需要添加的具体的周边功能，比如需要添加日志打印，需要对事务进行处理等
+ 切面：切点 + 通知 = 切面，切面是对一个如何在一个切点添加通知的抽象的统称
+ 织入：通常我们的通知和具体的核心方法都是分开的（低耦合），如何将通知添加进具体的切点就被称为织入

#### 原理
要想了解AOP的原理，我们首先要知道代理模式，代理模式是一种结构型的设计模式，描述了代理类如何代理核心类，并向外界暴露功能接口的方法。*代理模式不理解的话可以自行了解，后续可能会补充*
代理模式并不能直接在AOP中使用，因为在一般系统中，需要AOP的场景，或者说需要统一添加周边功能的地点都是很多的，我们直接使用代理模式在编码上会有很大不便，这里我们需要了解动态代理和CGLib代理。

动态代理：
CGLib代理